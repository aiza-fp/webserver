<!doctype html>
<html lang="eu">
  <head>
    {% include 'includes/head.html' %}
    <title>Blockchain FP Euskadi | Jardunaldiaren bertaratze ziurtagiria</title>
  </head>
  <body>
{% if row %}
<main>
  <h1 class="visually-hidden">Jardunaldiaren bertaratze ziurtagiria / Certificado de asistencia a la jornada</h1>

  <div class="px-4 py-5 my-5 text-center">
    <form id="form" action="/sortu_nft_baztertu/" method="post">
        <input type="hidden" name="lok" value="{{ lok }}" />
        <input type="hidden" id="addr" name="addr" value="" />
    <!--<img class="d-block mx-auto mb-4" src="/docs/5.3/assets/brand/bootstrap-logo.svg" alt="" width="72" height="57">-->
    <h1 class="display-5 fw-bold">{{ row[4] }}</h1>
    <div class="row col-lg-6 mx-auto">
      <p class="lead mb-4">Formakuntzan parte hartu du:</p>
      <h2 class="mb-4 bolder">{{ row[0] }} <small class="h4">jaun/andrea</small></h2>
      <p class="lead mb-4 col-lg-8"><b>Erakundea:</b> {{ row[2] }}</p>
      <p class="lead mb-4 col-lg-4"><b>Data:</b> {{ row[5] }}</p>
      <p class="lead mb-4 col-lg-8"><b>Emailea(k):</b> {{ row[3] }}</p>
      <p class="lead mb-5 col-lg-4"><b>Lekua:</b> {{ row[6] }}</p>
      
      <!--<p class="lead mb-4">Quickly design and customize responsive mobile-first sites with Bootstrap, the worldâ€™s most popular front-end open source toolkit, featuring Sass variables and mixins, responsive grid system, extensive prebuilt components, and powerful JavaScript plugins.</p>-->
      <div class="d-grid gap-2 d-sm-flex justify-content-sm-center mt-5">
        <button type="button" name="gorde" class="btn btn-success btn-lg px-4 gap-4" onclick="Connect()"">Nire "wallet"an gorde formakuntza</button>
        <button type="submit" name="baztertu" class="btn btn-outline-danger btn-lg px-4">Formakuntza baztertu</button>
      </div>
    </div>
    </form>
  </div>
  {% include 'includes/footer.html' %}
</main>
    <script src="/static/js/jquery-3.6.3.min.js"></script>
    <script src="/static/js/bootstrap.bundle.min.js"></script> 
    <script src="https://cdn.ethers.io/lib/ethers-5.2.umd.min.js"></script>
    <script>
        async function Connect(){
            const provider = new ethers.providers.Web3Provider(window.ethereum);
            await provider.send("eth_requestAccounts",[]);
            const address = await provider.getSigner().getAddress();
            document.getElementById("addr").value = address;
            document.getElementById("form").submit();
        }
    </script>
{% endif %}     
  </body>
</html>
